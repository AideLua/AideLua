{
  LinearLayoutCompat;
  layout_height="fill";
  orientation="vertical";
  layout_width="fill";
  --backgroundColor=theme.color.windowBackground;
  layoutTransition=newLayoutTransition();
  id="mainEditorLay";
  --fitsSystemWindows=true;
  {--顶部操作栏
    CardView;
    layout_width="fill";
    id="appBarLayout";
    backgroundColor=theme.color.colorPrimary;
    radius=0;
    minimumHeight=1;
    elevation=0;
    layoutTransition=newLayoutTransition();
    {
      LinearLayoutCompat;
      layout_height="fill";
      layout_width="fill";
      orientation="vertical";
      id="appBarLinearLayout";
      layoutTransition=newLayoutTransition();
      {
        function(context)--适配了菜单的TabLayout，平衡下拉与滚动的冲突
          local startX=0
          return luajava.override(TabLayout,{
            onInterceptTouchEvent=function(super,event)
              local action=event.getAction()
              local x=event.getX()
              if action==MotionEvent.ACTION_DOWN then
                startX=x--记录按下位置
               elseif action==MotionEvent.ACTION_MOVE then
                if (startX-x)>math.dp2int(18) or (x-startX)>math.dp2int(18) then--偏移18dp，就说明要横向滚动了
                  return super(event)
                 else
                  filesTabLay.onTouchEvent(event)--这时候可能要下拉，但是为了提升滚动灵敏度要绕过super执行onTouchEvent
                  return nil
                end
              end
              return super(event)
            end,
          })
        end;
        layout_width="fill";
        tabMode=TabLayout.MODE_SCROLLABLE;
        layout_height="32dp";
        id="filesTabLay";
        visibility=View.GONE;
        inlineLabel=true;
        tabIndicatorFullWidth=false;
      };
    };
  };
  {--编辑器部分
    FrameLayout;
    layout_height="fill";
    layout_width="fill";
    layout_weight=1;
    layoutTransition=newLayoutTransition();
    {
      CoordinatorLayout;
      layout_height="fill";
      layout_width="fill";
      id="editorGroup";
      saveEnabled=false;
    };
    "layouts.layout_previewChips";--预览按钮
  };
  {--底部操作栏
    CardView;
    layout_width="fill";
    id="bottomAppBar";
    backgroundColor=theme.color.windowBackground;
    elevation="4dp";
    radius=0;
    {
      LinearLayoutCompat;
      layout_height="fill";
      layout_width="fill";
      orientation="vertical";
      id="bottomAppBarLinearLayout";
      layoutTransition=newLayoutTransition();
      {--符号栏
        HorizontalScrollView;
        horizontalScrollBarEnabled=false;
        layout_width="fill";
        paddingLeft="8dp";
        paddingRight="8dp";
        clipToPadding=false;
        {
          LinearLayoutCompat;
          layout_width="fill";
          id="ps_bar";
          layout_height="40dp";
        };
      };
    };
  };
};