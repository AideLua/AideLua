import{_ as n,p as a,q as s,a1 as p}from"./framework-ea2a9e6e.js";const t="/AideLua/images/ui/main/filebrowser_narrow.jpg",e="/AideLua/images/ui/main/filebrowser_wide.jpg",i="/AideLua/images/ui/main/tab_hover_finger.jpg",c="/AideLua/images/ui/main/tab_slideup.gif",o="/AideLua/images/ui/main/psbar_normal.jpg",l="/AideLua/images/ui/main/psbar_selected.jpg",u="/AideLua/images/ui/main/psbar_scroll_right.jpg",r={},d=p('<h1 id="主页面-main" tabindex="-1"><a class="header-anchor" href="#主页面-main" aria-hidden="true">#</a> 主页面 Main</h1><h2 id="侧滑栏设计" tabindex="-1"><a class="header-anchor" href="#侧滑栏设计" aria-hidden="true">#</a> 侧滑栏设计</h2><p>在像手机这样如此小的屏幕，同时展示编辑器与文件浏览器是很不现实的。</p><p>因此我们在屏幕宽度小于 <code>800dp</code> 时，将文件浏览器独立出来，并放到侧滑栏内。 <img src="'+t+'" alt=""></p><p class="pictureName">[图片] 屏幕宽度小于 800dp 时</p><p><img src="'+e+`" alt=""></p><p class="pictureName">[图片] 屏幕宽度大于或等于 800dp 时</p><h2 id="文件标签栏" tabindex="-1"><a class="header-anchor" href="#文件标签栏" aria-hidden="true">#</a> 文件标签栏</h2><h3 id="查看文件路径" tabindex="-1"><a class="header-anchor" href="#查看文件路径" aria-hidden="true">#</a> 查看文件路径</h3><p>为了查看文件标签栏内文件的路径，我们将 Tooltip 设置为文件路径。</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- app/src/main/assets_bin/FilesTabManager.lua: 154</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">initFileTabView</span><span class="token punctuation">(</span>tab<span class="token punctuation">,</span> fileConfig<span class="token punctuation">)</span>
  <span class="token keyword">local</span> view <span class="token operator">=</span> tab<span class="token punctuation">.</span>view
  fileConfig<span class="token punctuation">.</span>view <span class="token operator">=</span> view
  view<span class="token punctuation">.</span><span class="token function">setPadding</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">dp2int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span><span class="token function">dp2int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span><span class="token function">dp2int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span><span class="token function">dp2int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  view<span class="token punctuation">.</span><span class="token function">setGravity</span><span class="token punctuation">(</span>Gravity<span class="token punctuation">.</span>LEFT <span class="token operator">|</span> Gravity<span class="token punctuation">.</span>CENTER<span class="token punctuation">)</span>
  view<span class="token punctuation">.</span>tag <span class="token operator">=</span> fileConfig

  TooltipCompat<span class="token punctuation">.</span><span class="token function">setTooltipText</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> fileConfig<span class="token punctuation">.</span>shortFilePath<span class="token punctuation">)</span>
  <span class="token keyword">local</span> imageView <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">getChildAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">local</span> textView <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">getChildAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  fileConfig<span class="token punctuation">.</span>imageView <span class="token operator">=</span> imageView
  fileConfig<span class="token punctuation">.</span>textView <span class="token operator">=</span> textView
  imageView<span class="token punctuation">.</span><span class="token function">setPadding</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">dp2int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span><span class="token function">dp2int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span><span class="token function">dp2int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  textView<span class="token punctuation">.</span><span class="token function">setAllCaps</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">)</span> <span class="token comment">-- 关闭全部大写</span>
  <span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
  <span class="token function">applyTabMenu</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span>fileConfig<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p>在低于 Android 8.0 时，Tooltip可能会设置不成功，因为在接下的代码中重新设置了 <code>onLongClick</code></p></div><p>在桌面端，当指针悬停在标签上时显示 Tooltip。</p><p class="pictureName">[图片] 鼠标指针悬停在标签上</p><p>在移动端，当用户长按文件标签时显示 Tooltip <img src="`+i+'" alt=""></p><p class="pictureName">[图片] 标签被长按</p><p>当然，也可以通过上拉来快速显示 Tooltip。在用户上拉后，文件标签将播放向上旋转动画，使用户意识到触发了上滑操作。 <img src="'+c+'" alt=""></p><p class="pictureName">[动图] 上滑标签</p><h3 id="下拉菜单" tabindex="-1"><a class="header-anchor" href="#下拉菜单" aria-hidden="true">#</a> 下拉菜单</h3><p>为了简化关闭流程（ <code>菜单 &gt; 文件 &gt; 关闭文件</code> ），我们在文件标签上加入了下拉菜单。</p><p>用户可以通过下拉文件标签来调出下拉菜单，同时文件标签将播放向下旋转动画，使用户意识到触发了下拉操作</p><p class="pictureName">[动图] 下拉标签</p><p>为考虑部分用户的习惯，当用户触发下拉菜单后不会立即进入滑动选择，而是当持续时间超过 600ms 或下拉中途返回后进入滑动选择模式</p><p class="pictureName">[动图] 下拉标签后停顿</p><p class="pictureName">[动图] 下拉标签后返回</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>暂时未考虑鼠标右键弹出菜单</p></div><h2 id="符号栏" tabindex="-1"><a class="header-anchor" href="#符号栏" aria-hidden="true">#</a> 符号栏</h2><p>符号栏为方便触屏用户快速输入符号而设计。</p><h3 id="自动化" tabindex="-1"><a class="header-anchor" href="#自动化" aria-hidden="true">#</a> 自动化</h3><p>Aide Lua 的符号栏会自动根据用户是否选择了文字而适当改变点击后插入的内容</p><p>Aide Lua 的内容变化不会复杂，只有两种状态：已选中和未选中</p><p>当用户已选中文字时，插入的内容会自动包裹选中的文字。</p><p>假如当前选择了 <code>hello</code>，符号 <code>(</code> 和 <code>)</code> 插入的内容会自动变为 <code>(hello)</code> 。</p><p><img src="'+o+'" alt=""></p><p class="pictureName">[图片] 未选中时插入的内容</p><p><img src="'+l+'" alt=""></p><p class="pictureName">[图片] 已选中时插入的内容</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>该特性目前只支持 Lua Editor，也就是只支持 <code>lua</code> 和 <code>aly</code> 文件</p></div><h3 id="手势" tabindex="-1"><a class="header-anchor" href="#手势" aria-hidden="true">#</a> 手势</h3><p>符号栏仅有一个向右滑动打开侧滑栏的手势 <img src="'+u+'" alt=""></p><p class="pictureName">[图片] 在任意位置向右滑动</p>',41),k=[d];function m(h,b){return a(),s("div",null,k)}const f=n(r,[["render",m],["__file","main.html.vue"]]);export{f as default};
