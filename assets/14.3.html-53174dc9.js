import{_ as a,p as n,q as s,a1 as t}from"./framework-ea2a9e6e.js";const o={},e=t(`<h1 id="http-同步网络模块" tabindex="-1"><a class="header-anchor" href="#http-同步网络模块" aria-hidden="true">#</a> http 同步网络模块</h1><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>body<span class="token punctuation">,</span>cookie<span class="token punctuation">,</span>code<span class="token punctuation">,</span>headers<span class="token operator">=</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url <span class="token punctuation">[</span><span class="token punctuation">,</span>cookie<span class="token punctuation">,</span>ua<span class="token punctuation">,</span>header<span class="token punctuation">]</span><span class="token punctuation">)</span>
body<span class="token punctuation">,</span>cookie<span class="token punctuation">,</span>code<span class="token punctuation">,</span>headers<span class="token operator">=</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url <span class="token punctuation">,</span>postdata <span class="token punctuation">[</span><span class="token punctuation">,</span>cookie<span class="token punctuation">,</span>ua<span class="token punctuation">,</span>header<span class="token punctuation">]</span><span class="token punctuation">)</span>
code<span class="token punctuation">,</span>headers<span class="token operator">=</span>http<span class="token punctuation">.</span><span class="token function">download</span><span class="token punctuation">(</span>url <span class="token punctuation">[</span><span class="token punctuation">,</span>cookie<span class="token punctuation">,</span>ua<span class="token punctuation">,</span>ref<span class="token punctuation">,</span>header<span class="token punctuation">]</span><span class="token punctuation">)</span>
body<span class="token punctuation">,</span>cookie<span class="token punctuation">,</span>code<span class="token punctuation">,</span>headers<span class="token operator">=</span>http<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>url <span class="token punctuation">,</span>datas <span class="token punctuation">,</span>files <span class="token punctuation">[</span><span class="token punctuation">,</span>cookie<span class="token punctuation">,</span>ua<span class="token punctuation">,</span>header<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数说明</p><ul><li><code>url</code> 网址</li><li><code>postdata</code> post的字符串或字符串数据组表</li><li><code>datas</code> upload的字符串数据组表</li><li><code>files</code> upload的文件名数据表</li><li><code>cookie</code> 网页要求的cookie</li><li><code>ua</code> 浏览器识别</li><li><code>ref</code> 来源页网址</li><li><code>header</code> http请求头</li></ul><h2 id="导入包" tabindex="-1"><a class="header-anchor" href="#导入包" aria-hidden="true">#</a> 导入包</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>require <span class="token string">&quot;import&quot;</span>
import <span class="token string">&quot;http&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="get" tabindex="-1"><a class="header-anchor" href="#get" aria-hidden="true">#</a> get</h2><p><code>get</code> 函数以 get 请求获取网页，参数为请求的网址与 cookie</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>body<span class="token punctuation">,</span>cookie<span class="token punctuation">,</span>code<span class="token punctuation">,</span>headers<span class="token operator">=</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.androlua.com&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="post" tabindex="-1"><a class="header-anchor" href="#post" aria-hidden="true">#</a> post</h2><p><code>post</code> 函数以 post 请求获取网页，通常用于提交表单，参数为请求的网址，要发送的内容与 cookie</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>body<span class="token punctuation">,</span>cookie<span class="token punctuation">,</span>code<span class="token punctuation">,</span>headers<span class="token operator">=</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;http://androlua.com/Login.Asp?Login=Login&amp;Url=http://androlua.com/bbs/index.asp&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;name=用户名&amp;pass=密码&amp;ki=1&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="download" tabindex="-1"><a class="header-anchor" href="#download" aria-hidden="true">#</a> download</h2><p><code>download</code> 函数和 <code>get</code> 函数类似，用于下载文件，参数为请求的网址，保存文件的路径与 cookie</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>http<span class="token punctuation">.</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token string">&quot;http://androlua.com&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/sdcard/a.txt&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="upload" tabindex="-1"><a class="header-anchor" href="#upload" aria-hidden="true">#</a> upload</h2><p><code>upload</code> 用于上传文件，参数是请求的网址，请求内容字符串部分，格式为以<code>key=value</code> 形式的表，请求文件部分，格式为 <code>key=文件路径</code> 的表，最后一个参数为 cookie</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>http<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span><span class="token string">&quot;http://androlua.com&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>title<span class="token operator">=</span><span class="token string">&quot;标题&quot;</span><span class="token punctuation">,</span>msg<span class="token operator">=</span><span class="token string">&quot;内容&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>file1<span class="token operator">=</span><span class="token string">&quot;/sdcard/1.txt&quot;</span><span class="token punctuation">,</span>file2<span class="token operator">=</span><span class="token string">&quot;/sdcard/2.txt&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,18),p=[e];function c(u,i){return n(),s("div",null,p)}const d=a(o,[["render",c],["__file","14.3.html.vue"]]);export{d as default};
