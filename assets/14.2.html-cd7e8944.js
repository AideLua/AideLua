import{_ as n,p as s,q as a,a1 as t}from"./framework-ea2a9e6e.js";const p={},o=t(`<h1 id="opengl-模块" tabindex="-1"><a class="header-anchor" href="#opengl-模块" aria-hidden="true">#</a> OpenGL 模块</h1><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>require <span class="token string">&quot;import&quot;</span>
import <span class="token string">&quot;gl&quot;</span>
import <span class="token string">&quot;android.app.*&quot;</span>
import <span class="token string">&quot;android.os.*&quot;</span>
import <span class="token string">&quot;android.widget.*&quot;</span>
import <span class="token string">&quot;android.view.*&quot;</span>
import <span class="token string">&quot;android.opengl.*&quot;</span>
activity<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&#39;AndroLua&#39;</span><span class="token punctuation">)</span>
<span class="token comment">--activity.setTheme( android.R.style.Theme_Holo_Light_NoActionBar_Fullscreen)</span>

mTriangleData <span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
mTriangleColor <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

sr<span class="token operator">=</span>GLSurfaceView<span class="token punctuation">.</span><span class="token function">Renderer</span><span class="token punctuation">{</span>
    onSurfaceCreated<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span>gl2<span class="token punctuation">,</span> config<span class="token punctuation">)</span>
        gl<span class="token punctuation">.</span><span class="token function">glDisable</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_DITHER<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glHint</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_PERSPECTIVE_CORRECTION_HINT<span class="token punctuation">,</span> gl<span class="token punctuation">.</span>GL_FASTEST<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glClearColor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glShadeModel</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_SMOOTH<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glClearDepth</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
        gl<span class="token punctuation">.</span><span class="token function">glEnable</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_DEPTH_TEST<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glDepthFunc</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_LEQUAL<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span><span class="token punctuation">,</span>
    onDrawFrame<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span>gl2<span class="token punctuation">,</span> config<span class="token punctuation">)</span>
        gl<span class="token punctuation">.</span><span class="token function">glClear</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_COLOR_BUFFER_BIT <span class="token operator">|</span> gl<span class="token punctuation">.</span>GL_DEPTH_BUFFER_BIT<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glMatrixMode</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_MODELVIEW<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glLoadIdentity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glRotate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
        gl<span class="token punctuation">.</span><span class="token function">glTranslate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glEnableClientState</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_VERTEX_ARRAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glEnableClientState</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_COLOR_ARRAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glVertexPointer</span><span class="token punctuation">(</span>mTriangleData<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glColorPointer</span><span class="token punctuation">(</span>mTriangleColor<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glDrawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_TRIANGLE_STRIP <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glFinish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glDisableClientState</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_VERTEX_ARRAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glDisableClientState</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span>GL_COLOR_ARRAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span><span class="token punctuation">,</span>
    onSurfaceChanged<span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>gl2<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span>
        gl<span class="token punctuation">.</span><span class="token function">glViewport</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glLoadIdentity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ratio <span class="token operator">=</span>  w <span class="token operator">/</span> h<span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">glFrustum</span><span class="token punctuation">(</span><span class="token operator">-</span>rautio<span class="token punctuation">,</span> ratio<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token punctuation">}</span>

glSurefaceView <span class="token operator">=</span> <span class="token function">GLSurfaceView</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
glSurefaceView<span class="token punctuation">.</span><span class="token function">setRenderer</span><span class="token punctuation">(</span>sr<span class="token punctuation">)</span><span class="token punctuation">;</span>
activity<span class="token punctuation">.</span><span class="token function">setContentView</span><span class="token punctuation">(</span>glSurefaceView<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),c=[o];function e(u,l){return s(),a("div",null,c)}const k=n(p,[["render",e],["__file","14.2.html.vue"]]);export{k as default};
