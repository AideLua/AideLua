import{_ as c,M as o,p as u,q as h,R as t,N as l,U as a,t as e,a1 as i}from"./framework-ea2a9e6e.js";const p={},g=t("h1",{id:"插件文档",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#插件文档","aria-hidden":"true"},"#"),e(" 插件文档")],-1),_=t("p",null,"Util 版本：v3.1",-1),m={class:"custom-container details"},v=t("summary",null,"本页内容",-1),x={class:"table-of-contents"},b={href:"https://gitee.com/Jesse205/AideLua/tree/master/%E6%A8%A1%E7%89%88/%E6%8F%92%E4%BB%B6/com.aidelua.template",target:"_blank",rel:"noopener noreferrer"},y=t("h2",{id:"提示",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#提示","aria-hidden":"true"},"#"),e(" 提示")],-1),f=t("li",null,[e("本文档部分说明格式为 “"),t("strong",null,"变量名"),e(" (数据类型): 说明” 或 “"),t("strong",null,"数据类型"),e(": 说明”")],-1),P=t("li",null,"软件写的比较随意，因此您可以随意调用API，就像是修改软件本身一样，此文档只是起帮助理解的作用。",-1),k=i('<div class="custom-container warning"><p class="custom-container-title">警告</p><p>已废除的 API 无法继续使用，因此您需要进行特殊的判断，请谨慎提高 <code>targetcode</code> ，以免造成用户数据损失</p></div><div class="custom-container danger"><p class="custom-container-title">建议最低的最低适配软件版本</p><p>我们强烈建议从 <strong>v5.1.0(51099)或以上</strong> 开始适配，因为在 v5.1.0 发生了巨大变化，大到开发者自己都不知道改了啥。本文档有非常多地方待修正或者补充，如果您发现了某处有问题，希望您可以联系我们以修复。</p></div><h2 id="手动导入" tabindex="-1"><a class="header-anchor" href="#手动导入" aria-hidden="true">#</a> 手动导入</h2><ol><li>打开文件管理，进入 <code>内部存储/Android/media/com.jesse205.aidelua2/files/plugins</code> ，如果没有此文件夹就手动新建一个</li><li>下载插件（扩展名通常为 <code>zip</code> 或 <code>alp</code> ，当然也不排除还有其他扩展名）</li><li>使用 zip 格式打开插件，打开 <code>init.lua</code> 文件，复制 <code>packagename</code> (包名) 的参数（ <code>=</code> 后面，不带引号）</li><li>在 <code>plugins</code> 文件夹 里面新建文件夹，重命名为 插件的 <code>packagename</code> (就是刚刚复制的文字)</li><li>解压插件内所有的文件，到<em>第4步</em>新建的文件夹</li><li>重启 AideLua</li></ol><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项:</h2><ol><li>目标版本和最低版本请按实际情况填写，最低为 <code>50099</code></li><li>扩展名应为 <code>alp</code> (Androlua+ 扩展) 或 <code>zip</code></li><li>为了防止污染全局变量，插件内直接赋值为插件的局部变量。如要修改全局变量，请使用 <code>_G.xxx=xxx</code></li></ol><h2 id="通用-api" tabindex="-1"><a class="header-anchor" href="#通用-api" aria-hidden="true">#</a> 通用 API</h2><div class="custom-container warning"><p class="custom-container-title">警告</p><p>尽量避免使用 Jesse205 库。因为 Jesse205 库每次改动都比较大，很容易引起插件报错。</p></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p>Aide Lua 的插件通常以植入代码的方式实现。<br> 您可以在 Github 或者 Gitee 上查看此程序的源码，以便编写良好的插件。</p></div>',9),A={id:"pluginsutil",tabindex:"-1"},N=t("a",{class:"header-anchor",href:"#pluginsutil","aria-hidden":"true"},"#",-1),U=i('<p>插件相关 API，也是支持插件运行的模块</p><table><thead><tr><th>变量</th><th>说明</th></tr></thead><tbody><tr><td>_VERSION</td><td><strong>string</strong>: Util 版本</td></tr><tr><td>PLUGINS_PATH</td><td><strong>string</strong>: 插件存放路径</td></tr><tr><td>PLUGINS_DATA_PATH</td><td><strong>string</strong>: 插件数据存放路径</td></tr></tbody></table><h4 id="pluginsutil-getplugindatapath-packagename" tabindex="-1"><a class="header-anchor" href="#pluginsutil-getplugindatapath-packagename" aria-hidden="true">#</a> PluginsUtil.getPluginDataPath(packageName)</h4><p>获取插件数据目录</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>packageName</td><td><strong>string</strong>: 插件包名。</td></tr></tbody></table><h4 id="pluginsutil-getpluginpath-packagename" tabindex="-1"><a class="header-anchor" href="#pluginsutil-getpluginpath-packagename" aria-hidden="true">#</a> PluginsUtil.getPluginPath(packageName)</h4><p>获取插件目录</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>packageName</td><td><strong>string</strong>: 插件包名，如果文件夹名与真正的 <code>init.lua</code> 中的 <code>packagename</code> 不同，则 <code>packageName</code> 传入文件夹名。</td></tr></tbody></table>',8),E={id:"pluginsutil-clearopenedpluginpaths",tabindex:"-1"},I=t("a",{class:"header-anchor",href:"#pluginsutil-clearopenedpluginpaths","aria-hidden":"true"},"#",-1),L=t("p",null,"清除已启用插件列表，用于重新加载插件",-1),B={id:"activityname",tabindex:"-1"},w=t("a",{class:"header-anchor",href:"#activityname","aria-hidden":"true"},"#",-1),G=t("p",null,[e("当前页面 (Activity) 名，可能为 "),t("code",null,"nil")],-1),j=t("thead",null,[t("tr",null,[t("th",null,"值"),t("th",null,"说明")])],-1),D=t("tr",null,[t("td",null,"main"),t("td",null,"主页面")],-1),S=t("tr",null,[t("td",null,"settings"),t("td",null,"软件设置页面")],-1),V=t("td",null,"newproject",-1),J=t("td",null,"viewclass",-1),R=t("td",null,"about",-1),T=t("td",null,"layouthelper",-1),z=t("td",null,"javaapi",-1),C=i('<h3 id="getplugindatapath-packagename" tabindex="-1"><a class="header-anchor" href="#getplugindatapath-packagename" aria-hidden="true">#</a> getPluginDataPath(packageName)</h3><p>获取插件数据目录，与 <a href="#pluginsutil-getplugindatapath-packagename"><code>PluginsUtil.getPluginDataPath(packageName)</code></a> 完全相同</p><h3 id="getpluginpath-packagename" tabindex="-1"><a class="header-anchor" href="#getpluginpath-packagename" aria-hidden="true">#</a> getPluginPath(packageName)</h3><p>获取插件目录，与 <a href="#pluginsutil-getpluginpath-packagename"><code>PluginsUtil.getPluginPath(packageName)</code></a> 完全相同</p><h2 id="插件文件说明" tabindex="-1"><a class="header-anchor" href="#插件文件说明" aria-hidden="true">#</a> 插件文件说明</h2>',5),H={id:"init-lua",tabindex:"-1"},O=t("a",{class:"header-anchor",href:"#init-lua","aria-hidden":"true"},"#",-1),q=t("p",null,"插件入口，也用于存放模块信息的文件",-1),F=t("thead",null,[t("tr",null,[t("th",null,"变量"),t("th",null,"说明")])],-1),K=t("td",null,[t("strong",null,"string"),e(": 插件名")],-1),M=t("td",null,[t("strong",null,"string"),e(": 插件包名")],-1),X=t("td",null,[t("strong",null,"string"),e(": 插件名")],-1),Q=t("td",null,[t("strong",null,"string"),e(": 插件版本名")],-1),W=t("td",null,[t("strong",null,"number"),e(": 插件版本号")],-1),Y=t("td",null,[t("strong",null,"string"),e(": 插件包名")],-1),Z=t("tr",null,[t("td",null,"mode"),t("td",null,[t("strong",null,"string"),e(": 模式，默认为 "),t("code",null,'"plugin"')])],-1),$=t("tr",null,[t("td",null,"utilversion"),t("td",null,[t("strong",null,"string"),e(": Util版本，此变量不起任何作用，当前为 "),t("code",null,'"3.1"')])],-1),tt=t("tr",null,[t("td",null,"thirdplugins"),t("td",null,[t("strong",null,"table (list)"),e(": 需要安装的第三方库 "),t("br"),e(" 内容: 插件的包名")])],-1),et=t("tr",null,[t("td",null,"supported2"),t("td",null,[t("strong",null,"table (map)"),e(": 支持的APP列表 "),t("br"),e(" 索引: 软件代号 ("),t("code",null,"apptype"),e(") "),t("br"),e(" 内容: "),t("strong",null,"table (map)"),e(": 支持的版本，mincode为最低版本，targetcode为最高版本")])],-1),lt=t("tr",null,[t("td",null,"events"),t("td",null,[t("strong",null,"table (map)"),e(": 全局事件")])],-1),dt={class:"custom-container details"},at=t("summary",null,"已弃用",-1),nt=t("thead",null,[t("tr",null,[t("th",null,"变量"),t("th",null,"说明"),t("th",null,"原因")])],-1),it=t("td",null,[t("strong",null,"number"),e(": 最低支持的APP版本号。")],-1),ot=t("td",null,"多个宿主只能使用相同的版本",-1),st=t("td",null,[t("strong",null,"number"),e(": 目标适配的APP版本号。")],-1),rt=t("td",null,"多个宿主只能使用相同的版本",-1),ct=t("td",null,[t("strong",null,"table (list)"),e(": 支持的APP列表。此变量在 Util 版本 "),t("code",null,"3.1"),e(" 弃用。")],-1),ut=t("td",null,"未指定宿主版本",-1),ht=i('<div class="custom-container tip"><p class="custom-container-title">提示</p><p>全局事件与独立事件基本一致。</p><p>但与独立的事件相比，第一个参数为页面名称，但是很可能为 <code>nil</code>）</p></div><div class="custom-container warning"><p class="custom-container-title">警告</p><p><code>init.lua</code> 中运行中不会有各种内置变量，只有在运行后会将环境表设置为 <code>metatable</code> ，自动取 <code>_G</code> 中的值</p></div><details class="custom-container details"><summary>彩蛋</summary><table><thead><tr><th>软件代号 ( <code>apptype</code> )</th><th>代指软件</th></tr></thead><tbody><tr><td>aidelua</td><td>Aide Lua (Pro)</td></tr><tr><td>eddelua</td><td>Edde Lua (截止目前此app不支持插件)</td></tr><tr><td>alstudio</td><td>Android Lua Studio (截止目前此app仅存于想象)</td></tr><tr><td>yunchu_jesse205</td><td>云储 优化版 (截止目前此app不支持插件)</td></tr><tr><td>eddeyunchumanager</td><td>Edde 后台管理 (截止目前此app仅存于想象)</td></tr><tr><td>userstatistics</td><td>用户统计 (截止目前此app仅存于想象)</td></tr><tr><td>goapk_jesse205</td><td>GoApk (截止目前此app仅存于想象且已停止)</td></tr><tr><td>highapk</td><td>良心APK (截止目前此app仅存于想象)</td></tr><tr><td>eddebrowser</td><td>Edde 浏览器 (截止目前此app仅存于想象)</td></tr><tr><td>eddeconnect</td><td>Edde 互联 (截止目前此app仅存于想象)</td></tr><tr><td>eddestudy</td><td>Edde 学习桌面 (截止目前此app仅存于想象)</td></tr><tr><td>eddemusic</td><td>Edde 音乐(截止目前此app仅存于想象)</td></tr><tr><td>eddevideo</td><td>Edde 视频(截止目前此app仅存于想象)</td></tr><tr><td>eddebook</td><td>Edde 阅读(截止目前此app仅存于想象)</td></tr><tr><td>hellotool</td><td>哈兔Box (截止目前此app不支持此类型插件)</td></tr><tr><td>androidbox</td><td>安卓工具箱 (截止目前此app仅存于想象)</td></tr></tbody></table></details>',3),pt={id:"main-lua",tabindex:"-1"},gt=t("a",{class:"header-anchor",href:"#main-lua","aria-hidden":"true"},"#",-1),_t=i("<p>插件主页面</p><table><thead><tr><th>参数顺序 (...)</th><th>说明</th></tr></thead><tbody><tr><td>1</td><td>项目路径</td></tr><tr><td>2</td><td>文件路径</td></tr></tbody></table>",2),mt={id:"config-events",tabindex:"-1"},vt=t("a",{class:"header-anchor",href:"#config-events","aria-hidden":"true"},"#",-1),xt=t("p",null,"存放各个页面的独立事件的文件夹",-1),bt=i("<li>文件扩展名: <code>aly</code> (不支持 <code>lua</code> )</li><li>文件名称: <code>&lt;页面标识&gt;.aly</code></li><li>文件示例: <code>main.aly</code>、<code>settings.aly</code> ......</li>",3),yt=t("code",null,"page",-1);function ft(Pt,kt){const n=o("router-link"),d=o("Badge"),s=o("ExternalLinkIcon"),r=o("RouterLink");return u(),h("div",null,[g,_,t("details",m,[v,t("nav",x,[t("ul",null,[t("li",null,[l(n,{to:"#提示"},{default:a(()=>[e("提示")]),_:1})]),t("li",null,[l(n,{to:"#手动导入"},{default:a(()=>[e("手动导入")]),_:1})]),t("li",null,[l(n,{to:"#注意事项"},{default:a(()=>[e("注意事项:")]),_:1})]),t("li",null,[l(n,{to:"#通用-api"},{default:a(()=>[e("通用 API")]),_:1}),t("ul",null,[t("li",null,[l(n,{to:"#pluginsutil"},{default:a(()=>[e("PluginsUtil "),l(d,{text:"table",vertical:"middle"}),e(),l(d,{text:"Util",vertical:"middle"})]),_:1})]),t("li",null,[l(n,{to:"#activityname"},{default:a(()=>[e("activityName "),l(d,{text:"string",vertical:"middle"})]),_:1})]),t("li",null,[l(n,{to:"#getplugindatapath-packagename"},{default:a(()=>[e("getPluginDataPath(packageName)")]),_:1})]),t("li",null,[l(n,{to:"#getpluginpath-packagename"},{default:a(()=>[e("getPluginPath(packageName)")]),_:1})])])]),t("li",null,[l(n,{to:"#插件文件说明"},{default:a(()=>[e("插件文件说明")]),_:1}),t("ul",null,[t("li",null,[l(n,{to:"#init-lua"},{default:a(()=>[l(d,{type:"danger",text:"*",vertical:"middle"}),e(" init.lua "),l(d,{text:"文件",vertical:"middle"})]),_:1})]),t("li",null,[l(n,{to:"#main-lua"},{default:a(()=>[e("main.lua "),l(d,{text:"文件",vertical:"middle"})]),_:1})]),t("li",null,[l(n,{to:"#config-events"},{default:a(()=>[e("config/events/ "),l(d,{text:"文件夹",vertical:"middle"})]),_:1})])])])])])]),t("p",null,[t("a",b,[e("插件模板"),l(s)])]),y,t("ol",null,[f,t("li",null,[e("标有 "),l(d,{type:"danger",text:"X",vertical:"middle"}),e(" 的表示已废除，相关 API 已被移除")]),t("li",null,[e("标有 "),l(d,{type:"danger",text:"*",vertical:"middle"}),e(" 的表示必须文件、方法 或 变量")]),P]),k,t("h3",A,[N,e(" PluginsUtil "),l(d,{text:"table",vertical:"middle"}),e(),l(d,{text:"Util",vertical:"middle"})]),U,t("h4",E,[I,e(" PluginsUtil.clearOpenedPluginPaths() "),l(d,{text:"在 v5.0.4(50499) 添加",vertical:"middle"})]),L,t("h3",B,[w,e(" activityName "),l(d,{text:"string",vertical:"middle"})]),G,t("table",null,[j,t("tbody",null,[D,S,t("tr",null,[V,t("td",null,[e("新建工程页面 "),l(d,{text:"v5.0.4+",vertical:"middle"})])]),t("tr",null,[J,t("td",null,[e("查看类页面 "),l(d,{text:"v5.0.4+",vertical:"middle"})])]),t("tr",null,[R,t("td",null,[e("关于页面 "),l(d,{text:"v5.0.4+",vertical:"middle"})])]),t("tr",null,[T,t("td",null,[e("布局助手页面 "),l(d,{text:"v5.0.4+",vertical:"middle"})])]),t("tr",null,[z,t("td",null,[e("JavaAPI查看器页面 "),l(d,{text:"v5.0.4+",vertical:"middle"})])])])]),C,t("h3",H,[O,e(),l(d,{type:"danger",text:"*",vertical:"middle"}),e(" init.lua "),l(d,{text:"文件",vertical:"middle"})]),q,t("table",null,[F,t("tbody",null,[t("tr",null,[t("td",null,[l(d,{type:"danger",text:"*",vertical:"middle"}),e(" appname")]),K]),t("tr",null,[t("td",null,[l(d,{type:"danger",text:"*",vertical:"middle"}),e(" packagename")]),M]),t("tr",null,[t("td",null,[l(d,{type:"danger",text:"*",vertical:"middle"}),e(" appname")]),X]),t("tr",null,[t("td",null,[l(d,{type:"danger",text:"*",vertical:"middle"}),e(" appver")]),Q]),t("tr",null,[t("td",null,[l(d,{type:"danger",text:"*",vertical:"middle"}),e(" appcode")]),W]),t("tr",null,[t("td",null,[l(d,{type:"danger",text:"*",vertical:"middle"}),e(" packagename")]),Y]),Z,$,tt,et,lt])]),t("details",dt,[at,t("table",null,[nt,t("tbody",null,[t("tr",null,[t("td",null,[l(d,{type:"danger",text:"*",vertical:"middle"}),e(" minemastercode "),l(d,{type:"danger",text:"Util v3.1 废除",vertical:"middle"})]),it,ot]),t("tr",null,[t("td",null,[l(d,{type:"danger",text:"*",vertical:"middle"}),e(" targemastercode "),l(d,{type:"danger",text:"Util v3.1 废除",vertical:"middle"})]),st,rt]),t("tr",null,[t("td",null,[e("supported "),l(d,{type:"danger",text:"Util v3.1 废除",vertical:"middle"})]),ct,ut])])])]),ht,t("h3",pt,[gt,e(" main.lua "),l(d,{text:"文件",vertical:"middle"})]),_t,t("h3",mt,[vt,e(" config/events/ "),l(d,{text:"文件夹",vertical:"middle"})]),xt,t("ul",null,[bt,t("li",null,[e("更多请见 "),l(r,{to:"/plugin/pages/main.html"},{default:a(()=>[yt,e(" 目录")]),_:1})])])])}const Nt=c(p,[["render",ft],["__file","index.html.vue"]]);export{Nt as default};
